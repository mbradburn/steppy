StartAt: Start
States:
  Start:
    Type: Pass
    Next: DoIt
  DoIt:
    Type: Task
    Next: Done
    Resource: arn:aws:states:::ecs:runTask.sync
    Parameters:
      Cluster: default
      LaunchType: FARGATE
      NetworkConfiguration:
        AwsvpcConfiguration:
          AssignPublicIp: ENABLED
          Subnets:
            - ${DockerTaskSubnet0}
            - ${DockerTaskSubnet1}
            - ${DockerTaskSubnet2}
            - ${DockerTaskSubnet3}
      TaskDefinition: ${DockerTaskArn}
      Overrides:
        ContainerOverrides:
          Environment:
            Input.$: $
  Done:
    Type: Pass
    End: true